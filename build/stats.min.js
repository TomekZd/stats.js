(function(m,f){"object"===typeof exports&&"undefined"!==typeof module?module.exports=f():"function"===typeof define&&define.amd?define(f):(m="undefined"!==typeof globalThis?globalThis:m||self,m.Stats=f())})(this,function(){function m(c){function k(b){b=b||window.event;b.preventDefault();a=b.clientX;l=b.clientY;document.onmouseup=e;document.onmousemove=f}function f(b){b=b||window.event;b.preventDefault();h=a-b.clientX;g=l-b.clientY;a=b.clientX;l=b.clientY;c.style.top=c.offsetTop-g+"px";c.style.left=
c.offsetLeft-h+"px"}function e(){document.onmouseup=null;document.onmousemove=null}var h=0,g=0,a=0,l=0;document.getElementById(c.id+"header")?document.getElementById(c.id+"header").onmousedown=k:c.onmousedown=k}var f=function(){function c(a){e.appendChild(a.dom);return a}function k(a){for(var b=0;b<e.children.length;b++)e.children[b].style.display=b===a?"block":"none";n=a}var n=0,e=document.createElement("div");m(e);e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000";
e.addEventListener("click",function(a){a.preventDefault();k(++n%e.children.length)},!1);var h=(performance||Date).now(),g=h,a=0,l=c(new f.Panel("FPS","#0ff","#002")),b=c(new f.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var v=c(new f.Panel("MB","#f08","#201"));k(0);return{REVISION:16,dom:e,addPanel:c,showPanel:k,begin:function(){h=(performance||Date).now()},end:function(){a++;var c=(performance||Date).now();b.update(c-h,200);if(c>=g+1E3&&(l.update(1E3*a/(c-g),100),g=c,
a=0,v)){var e=performance.memory;v.update(e.usedJSHeapSize/1048576,e.jsHeapSizeLimit/1048576)}return c},update:function(){h=this.end()},domElement:e,setMode:k}};f.Panel=function(c,f,n){var e=Infinity,h=0,g=Math.round,a=g(window.devicePixelRatio||1),l=80*a,b=48*a,k=3*a,m=2*a,q=3*a,p=15*a,r=74*a,t=30*a,u=document.createElement("canvas");u.width=l;u.height=b;u.style.cssText="width:80px;height:48px";var d=u.getContext("2d");d.font="bold "+9*a+"px Helvetica,Arial,sans-serif";d.textBaseline="top";d.fillStyle=
n;d.fillRect(0,0,l,b);d.fillStyle=f;d.fillText(c,k,m);d.fillRect(q,p,r,t);d.fillStyle=n;d.globalAlpha=.9;d.fillRect(q,p,r,t);return{dom:u,update:function(b,v){e=Math.min(e,b);h=Math.max(h,b);d.fillStyle=n;d.globalAlpha=1;d.fillRect(0,0,l,p);d.fillStyle=f;d.fillText(g(b)+" "+c+" ("+g(e)+"-"+g(h)+")",k,m);d.drawImage(u,q+a,p,r-a,t,q,p,r-a,t);d.fillRect(q+r-a,p,a,t);d.fillStyle=n;d.globalAlpha=.9;d.fillRect(q+r-a,p,a,g((1-b/v)*t))}}};return f});
